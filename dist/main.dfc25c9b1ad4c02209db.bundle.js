webpackJsonp([1,5],{"/5y0":function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-form-wrapper{border:2px solid #f08080;padding:0;margin:0 auto;margin-top:50px;width:320px}.btc-form-header{height:92px;background-color:#f08080}.btc-form-heading{color:#fff;text-align:center;padding:30px 0;margin:0;font-size:2em}.btc-input-wrapper{padding-top:20px;width:80%;margin:0 auto}.btc-check-icon{color:green;font-size:30px}.btc-form-button-wrapper{width:80%;margin:0 auto;margin-top:20px;margin-bottom:30px}.btc-form-button{width:100%}.btc-error{width:80%;color:#fff;background-color:#f08080;padding:5px;margin:0 auto;text-align:center}",""]),e.exports=e.exports.toString()},0:function(e,t,o){e.exports=o("x35b")},"0+Tb":function(e,t,o){"use strict";var r=o("3j3K");o.d(t,"a",function(){return a});var n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){this.status=!1}return e.prototype.hideProgressBar=function(){this.status=!1},e.prototype.showProgressBar=function(){this.status=!0},e}();a=n([o.i(r.Injectable)(),i("design:paramtypes",[])],a)},"5xMp":function(e,t){e.exports='\r\n<simple-notifications [options]="options"></simple-notifications>\r\n  <nav>\r\n    <div class="nav-wrapper container">\r\n      <a [routerLink]="[\'/browse\']" class="brand-logo btc-logo">\r\n        <i class="material-icons left btc-logo-icon">bookmark_border</i>\r\n        BookExchange</a>\r\n      <ul id="nav-mobile" class="right hide-on-med-and-down">\r\n        <li [className]="linkClassBrowse"><a [routerLink]="[\'/browse\']" >Browse Books</a></li>\r\n        <li [className]="linkClassAdd"><a [routerLink]="[\'/add\']">Add Books</a></li>\r\n        <li [className]="linkClassRegister" *ngIf="!username"><a [routerLink]="[\'/register\']">Register</a></li>\r\n        <li [className]="linkClassLogin" *ngIf="!username"><a [routerLink]="[\'/login\']">Login</a></li>\r\n\r\n        \x3c!-- materialize dropdown not functioning reliably so toggleDropdown method substituted --\x3e\r\n        <li *ngIf="username"><a> <i (click)="toggleDropdown()" id="dropdownIcon" class="material-icons btc-account-icon">account_circle</i></a>\r\n\r\n\r\n          <ul *ngIf="dropdownVisible" (click)="toggleDropdown()" class="dropdown-content btc-dropdown-content">\r\n              \x3c!-- <ul *ngIf="dropdownVisible" materialize="dropdown" id="dropdown1" class="dropdown-content"> --\x3e\r\n                <li><a [routerLink]="[\'/profile\']">Profile</a></li>\r\n                <li class="divider"></li>\r\n                <li><a (click)="signOut()">Sign Out</a></li>\r\n              </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n  <div *ngIf="progressBar" class="progress btc-progress-bar">\r\n    <div class="indeterminate"></div>\r\n  </div>\r\n\r\n\r\n  <div class="container"  >\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n'},"6UyD":function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu"),i=o("5oXY"),a=o("0+Tb"),s=o("3MNG");o.n(s);o.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,o,r){this.auth=e,this.progress=t,this.notify=o,this.router=r,this.usernameChecked=!1,this.usernameValid=!1}return e.prototype.ngOnInit=function(){},e.prototype.checkUsername=function(){var e=this;return this.username?this.username.length<3?this.error="username must be minimum 3 characters":void this.auth.checkUsername(this.username).subscribe(function(t){e.usernameChecked=!0,e.usernameValid=!0},function(t){e.error="username already exists",e.usernameChecked=!0,e.usernameValid=!1}):this.error="enter a username"},e.prototype.clearUsernameCheck=function(){this.error="",this.usernameChecked=!1,this.usernameValid=!1},e.prototype.checkMatch=function(){this.password&&this.confirmation&&(this.password.length>2&&this.confirmation.length>0&&this.password===this.confirmation?(this.passwordMatch=!0,this.error=""):this.passwordMatch=!1)},e.prototype.submitForm=function(){var e=this;if(this.password!==this.confirmation)return void(this.error="passwords do not match.");this.username&&this.password&&(this.error="",this.progress.showProgressBar(),this.user={username:this.username,password:this.password},this.auth.register(this.user).then(function(t){console.log("user created",t),e.router.navigate(["/browse"]),e.notify.success(e.username,"You have been registered and logged in"),e.progress.hideProgressBar()}).catch(function(t){console.log(t),409===t.status?(e.error="Username not available.",e.progress.hideProgressBar()):e.error="Oops! Something went wrong..."}))},e}();u=c([o.i(r.Component)({selector:"btc-register",template:o("VQ+3"),styles:[o("/5y0")]}),l("design:paramtypes",["function"==typeof(d=void 0!==n.a&&n.a)&&d||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(f=void 0!==s.NotificationsService&&s.NotificationsService)&&f||Object,"function"==typeof(h=void 0!==i.b&&i.b)&&h||Object])],u);var d,p,f,h},"6qn1":function(e,t){e.exports='<div class="btc-instruction-panel">\r\n  <h4>Welcome to Book Exchange</h4>\r\n  <p>On this page, you can browse books available from our users, and search books by topic or title.\r\n    Click on a book to see more details or make a borrow request.</p>\r\n    <p *ngIf="!username">To borrow books and list your own collection,\r\n      <a [routerLink]="[\'/login\']" class="btc-panel-link">login</a> or\r\n      <a [routerLink]="[\'/register\']" class="btc-panel-link">register</a>\r\n    </p>\r\n    <p *ngIf="username" >Go to the\r\n      <a [routerLink]="[\'/profile\']" class="btc-panel-link">profile page</a>\r\n      to view your collection and requests.\r\n    </p>\r\n</div>\r\n\r\n<div class="row">\r\n  <form materialize class="col s12" #form="ngForm" (submit)="searchBooks()">\r\n    <div class="row">\r\n\r\n      <div class="input-field col s12">\r\n        <input\r\n          [(ngModel)]="titleQuery"\r\n          type="text"\r\n          name="titleQuery"\r\n          id="titleQuery">\r\n          <label for="titleQuery">Title or Keyword</label>\r\n      </div>\r\n\r\n      \x3c!-- <div class="input-field col s6">\r\n        <input\r\n          [(ngModel)]="authorQuery"\r\n          type="text"\r\n          name="authorQuery"\r\n          id="authorQuery">\r\n        <label for="authorQuery">Author (optional)</label>\r\n      </div> --\x3e\r\n\r\n    </div>\r\n    \x3c!-- inputs row end --\x3e\r\n\r\n    <div class="row">\r\n      <button class="btn waves-effect waves-light" type="submit">Search\r\n          <i class="material-icons right">search</i>\r\n      </button>\r\n      <button class="btn waves-effect waves-light btc-get-all-btn" (click)="getAllBooks()">Recently Added\r\n          <i class="material-icons right">autorenew</i>\r\n      </button>\r\n    </div>\r\n\r\n  </form>\r\n</div>\r\n\r\n\x3c!-- Results --\x3e\r\n<div class="row">\r\n  <div class="col s6 m4 l3 btc-book-preview" *ngFor="let book of bookData" (click)="openModal(book)">\r\n    <div class="btc-book-preview-image-container">\r\n      <img class="btc-book-preview-image" src="{{book.imageLinks.thumbnail}}" >\r\n    </div>\r\n\r\n    <p class="btc-book-preview-title">{{book.title}}</p>\r\n    <p class="btc-book-preview-author">{{book.authors[0]}}</p>\r\n  </div>\r\n</div>\r\n\r\n<p *ngIf="nullResult" class="btc-null-result-message">{{nullResult}}</p>\r\n\r\n\r\n\x3c!-- Modal Structure --\x3e\r\n<div *ngIf="selectedBook" id="modal1" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions">\r\n  <div *ngIf="modalProgressBar" class="progress btc-modal-progress-bar">\r\n    <div class="indeterminate"></div>\r\n  </div>\r\n  <div  class="modal-content">\r\n\r\n      <div class="btc-modal-img-wrapper">\r\n        <img src="{{selectedBook.imageLinks.thumbnail}}" />\r\n        <div class="chip btc-modal-chip" *ngIf="selectedBook.requested">Requested</div>\r\n        <div class="chip btc-modal-chip" *ngIf="selectedBook.username === username">Owned</div>\r\n      </div>\r\n\r\n      <div class="btc-modal-text">\r\n        <h4 class="btc-modal-title">{{selectedBook.title}}</h4>\r\n        <p *ngIf="selectedBook.subtitle" class="btc-modal-subtitle">{{selectedBook.subtitle}}</p>\r\n        <div>By&nbsp;\r\n          <span *ngFor="let author of selectedBook.authors" class="btc-modal-author">{{author}}&nbsp;&nbsp;</span>\r\n        </div>\r\n        <span *ngIf="selectedBook.publisher">Published by {{selectedBook.publisher}} </span>\r\n        <span *ngIf="selectedBook.publishedDate">({{selectedBook.publishedDate}})</span>\r\n\r\n        <p *ngIf="selectedBook.pageCount" class="btc-modal-pageCount">{{selectedBook.pageCount}} pages</p>\r\n        <p class="btc-modal-user">added by:<b> {{selectedBook.username}}</b></p>\r\n        <p *ngIf="!username" class="anon-user-message">To request books from other users, please\r\n          <a class="modal-link" (click)="authenticate($event)">register</a> or <a class="modal-link" (click)="authenticate($event)">log in</a>.</p>\r\n      </div>\r\n\r\n    </div>\r\n    <div class="modal-footer btc-modal-footer">\r\n      <a *ngIf="username && !selectedBook.requested  && selectedBook.username !== username" class="modal-action modal-close waves-effect waves-green btn-flat" (click)="requestBook()">Request<i class="material-icons right">add_circle</i></a>\r\n      <a class="waves-effect waves-green btn-flat" (click)="closeModal()">Close<i class="material-icons right">cancel</i></a>\r\n    </div>\r\n   </div>\r\n\r\n'},"7fwu":function(e,t,o){"use strict";var r=o("3j3K"),n=o("Fzro"),i=o("eErF"),a=(o.n(i),o("+pb+")),s=(o.n(a),o("EnA3")),c=(o.n(s),o("Dyxn"));o.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){this._http=e,this._helper=t}return e.prototype.register=function(e){var t=this;return this._http.post("/api/auth/register",e).do(function(e){var o=t._helper.getAuthTokenFromHeader(e);window.localStorage.setItem("token",o)}).map(function(e){return e.json()}).do(function(e){return t.updateCurrentUser(e)}).toPromise()},e.prototype.checkUsername=function(e){var t="/api/auth/check/"+e;return this._http.get(t)},e.prototype.login=function(e){var t=this;return this._http.post("/api/auth/login",e).do(function(o){var r=t._helper.getAuthTokenFromHeader(o);window.localStorage.setItem("token",r),console.log("User submitted: ",e)}).map(function(e){return e.json()}).do(function(e){return t.updateCurrentUser(e)}).toPromise()},e.prototype.logout=function(){var e=this,t=this._helper.addAuthTokenToHeader();return this._http.delete("/api/auth/logout",t).toPromise().then(function(){e.currentUser=void 0,window.localStorage.removeItem("token"),window.localStorage.removeItem("username"),window.localStorage.removeItem("_id"),console.log("User has been logged out")}).catch(function(e){return console.log(e)})},e.prototype.updateCurrentUser=function(e){var t=e.username,o=e._id;this.currentUser=e,console.log("USER",this.currentUser),window.localStorage.setItem("username",t),window.localStorage.setItem("_id",o)},e.prototype.isValidated=function(){var e=window.localStorage.getItem("token"),t=window.localStorage.getItem("username"),o=window.localStorage.getItem("_id");return e&&t?(this.currentUser={username:t,_id:o},t):null},e.prototype.getCurrentUserId=function(){return this.currentUser?(console.log("get ID",this.currentUser._id),this.currentUser._id):null},e.prototype.getCurrentUser=function(){return this.currentUser},e}();d=l([o.i(r.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==n.d&&n.d)&&p||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object])],d);var p,f},"8InQ":function(e,t,o){"use strict";var r=o("3j3K"),n=o("Fzro"),i=o("+pb+"),a=(o.n(i),o("7fwu")),s=o("Dyxn");o.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,o){this.http=e,this.authService=t,this.helperService=o}return e.prototype.getAllBooks=function(){return this.http.get("/api/book/getBooks").map(function(e){return e.json()})},e.prototype.getMyBooks=function(e){var t="/api/book/getCurrentUsersBooks?id="+e;return this.http.get(t).map(function(e){return e.json()})},e.prototype.searchBooks=function(e,t){var o="/api/book/searchBooks/"+e;return console.log("search books",e),this.http.get(o).map(function(e){return e.json()})},e.prototype.addBookToCollection=function(e){var t=this.authService.getCurrentUser();console.log("Adding "+e.title+" to the collection of "+t.username+" with id of "+t._id);var o={user:t,bookToAdd:e},r=this.helperService.addAuthTokenToHeader();return this.http.post("/api/book/addBook",o,r)},e.prototype.deleteBookById=function(e){var t="/api/book/delete/"+e;return this.http.delete(t)},e}();u=c([o.i(r.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==n.d&&n.d)&&d||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(f=void 0!==s.a&&s.a)&&f||Object])],u);var d,p,f},Djnj:function(e,t,o){"use strict";var r=o("3j3K"),n=o("5oXY"),i=o("7fwu"),a=o("3MNG"),s=(o.n(a),o("8InQ")),c=o("kqTc"),l=o("0+Tb");o.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,o,n,i,a){this.authService=e,this.bookService=t,this.requestService=o,this.router=n,this.notify=i,this.pBarService=a,this.modalActions=new r.EventEmitter,this.modalProgressBar=!1}return e.prototype.ngOnInit=function(){this.pBarService.showProgressBar(),this.username=this.authService.isValidated(),this.getAllBooks()},e.prototype.getAllBooks=function(){var e=this;this.bookService.getAllBooks().subscribe(function(t){var o=e.addAlreadyRequestedFlag(t);console.log(o),e.bookData=o,e.pBarService.hideProgressBar()})},e.prototype.searchBooks=function(){var e=this;this.pBarService.showProgressBar(),this.nullResult=void 0,this.bookData=void 0;this.titleQuery;this.bookService.searchBooks(this.titleQuery).subscribe(function(t){t.length>0?(console.log(t),e.bookData=t):e.nullResult="Nothing to see here...",e.pBarService.hideProgressBar()})},e.prototype.requestBook=function(){var e=this;this.modalProgressBar=!0;var t={username:this.username},o=this.selectedBook;this.requestService.requestBook(t,o).subscribe(function(t){e.notify.success(o.title,"This book was requested."),e.modalProgressBar=!1,e.bookData.forEach(function(e){e._id===o._id&&(e.requested=!0)})},function(t){console.log(t),e.modalProgressBar=!1}),this.closeModal()},e.prototype.addAlreadyRequestedFlag=function(e){var t=this;return e.forEach(function(e){e.requested=!1,e.usersRequesting.forEach(function(o){o===t.username&&(e.requested=!0)})}),e},e.prototype.openModal=function(e){this.selectedBook=e,console.log(this.selectedBook),this.modalActions.emit({action:"modal",params:["open"]})},e.prototype.closeModal=function(){this.modalActions.emit({action:"modal",params:["close"]})},e.prototype.authenticate=function(e){if(this.closeModal(),"register"===e.target.firstChild.data)return this.router.navigate(["/register"]);this.router.navigate(["/login"])},e}();p=u([o.i(r.Component)({selector:"btc-browse-books",template:o("6qn1"),styles:[o("QGcQ")]}),d("design:paramtypes",["function"==typeof(f=void 0!==i.a&&i.a)&&f||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(m=void 0!==n.b&&n.b)&&m||Object,"function"==typeof(g=void 0!==a.NotificationsService&&a.NotificationsService)&&g||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object])],p);var f,h,b,m,g,v},Dyxn:function(e,t,o){"use strict";var r=o("3j3K"),n=o("Fzro");o.d(t,"a",function(){return s});var i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.getAuthTokenFromHeader=function(e){var t=e.headers.toJSON();return console.log("GATFH: ",t),t["X-Auth"]?t["X-Auth"][0]:t["x-auth"][0]},e.prototype.addAuthTokenToHeader=function(){var e=window.localStorage.getItem("token"),t=new n.b({"X-Auth":e,"Content-Type":"application/json"});return new n.c({headers:t})},e}();s=i([o.i(r.Injectable)(),a("design:paramtypes",[])],s)},EXx9:function(e,t){e.exports='\r\n<h4 class="btc-profile-username"><i class="material-icons left btc-profile-icon">person</i>{{currentUser.username}}</h4>\r\n\r\n\x3c!-- Secondary NavBar --\x3e\r\n\r\n<nav class="nav-extended btc-page-navbar">\r\n    <div class="nav-content">\r\n      <ul class="tabs tabs-transparent">\r\n        <li class="tab"><a (click)="showContent($event)" [className]="linkClassCollection">Collection</a></li>\r\n        <li class="tab"><a (click)="showContent($event)" [className]="linkClassRequests">Requests</a></li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n\r\n\x3c!-- My Collection Table --\x3e\r\n\r\n\r\n\r\n\r\n<div *ngIf="activeTab === \'Collection\'" class="responsive-table btc-table-wrapper">\r\n    <table>\r\n      <thead>\r\n        <tr class="btc-table-row">\r\n            <th></th>\r\n            <th class="btc-title-column">Title</th>\r\n            <th>Author</th>\r\n            <th class="btc-centered">Requests</th>\r\n            <th class="btc-remove-column">Remove</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let book of myBooks" class="btc-table-row">\r\n            <td><img class="btc-table-image" src="{{book.imageLinks.thumbnail}}" ></td>\r\n            <td class="btc-title-column">{{book.title}}</td>\r\n            <td>{{book.authors[0]}}</td>\r\n            <td class="btc-centered">{{book.requestsReceived.length}}</td>\r\n            <td class="btc-centered"><i (click)="deleteBook(book)" class="material-icons btc-icon">delete_forever</i></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div *ngIf="myBooks?.length === 0" class="btc-instruction-panel btc-profile-instruction-panel">\r\n      <p>You have no books in your collection. Why don\'t you go ahead and\r\n        <a [routerLink]="[\'/add\']" class="btc-panel-link">add books</a> ?\r\n      </p>\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n\r\n\r\n  \x3c!-- delete modal --\x3e\r\n\r\n  <div id="modal1" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions">\r\n      <div class="modal-content">\r\n        <h4 *ngIf="selectedBook"></h4>\r\n        <p></p>\r\n      </div>\r\n      <div class="modal-footer">\r\n          <a class="waves-effect waves-green btn-flat" >Remove<i class="material-icons right">delete_forever</i></a>\r\n          <a class="waves-effect waves-green btn-flat" (click)="closeModal()">Cancel<i class="material-icons right">cancel</i></a>\r\n      </div>\r\n    </div>\r\n\r\n\x3c!-- Requests Table --\x3e\r\n\r\n<div *ngIf="activeTab !== \'Collection\'" class="responsive-table btc-table-wrapper">\r\n    <table>\r\n      <thead>\r\n        <tr class="btc-table-row">\r\n            <th></th>\r\n            <th class="btc-title-column">Title</th>\r\n            <th class="btc-centered">Owner</th>\r\n            <th class="btc-centered">Message</th>\r\n            <th class="btc-centered">Cancel</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let request of myRequests" class="btc-table-row">\r\n            <td class="btc-image-column btc-centered"><img class="btc-table-image" src="{{request.book.imageLinks.thumbnail}}" ></td>\r\n            <td class="btc-title-column">{{request.book.title}}</td>\r\n            <td class="btc-owner-column btc-centered">{{request.request.ownerName | uppercase}} </td>\r\n            <td class="btc-message-column btc-centered"><i (click)="openMessageModal(request)" class="material-icons btc-message-icon">message</i></td>\r\n            <td class="btc-cancel-column btc-centered"><i class="material-icons btc-icon" (click)="cancelRequest(request.request)">cancel</i></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div *ngIf="myRequests?.length === 0" class="btc-instruction-panel btc-profile-instruction-panel">\r\n      <p>Nothing to see here... Go to\r\n        <a [routerLink]="[\'/add\']" class="btc-panel-link">browse books</a> to search available titles.\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n'},FbhP:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-instruction-panel{background-color:#26a69a;color:#fff;box-shadow:1px 1px 1px #777;padding:15px 40px;width:100%;margin:0 auto;margin-top:30px;margin-bottom:30px;border-radius:5px;line-height:1.8em;letter-spacing:1px}.btc-panel-link{color:#fff;font-weight:700;background-color:#ee6e73;padding:3px 5px}.btc-get-all-btn{float:right}.btc-book-preview{height:360px}.btc-book-preview-image-container{background:#555;height:240px;overflow:hidden;position:relative}.btc-book-preview-image-container:hover{cursor:pointer}.btc-book-preview-image{min-width:100%;min-height:100%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.btc-book-preview-image:hover{opacity:.4}.btc-book-preview-title{font-weight:700;margin-bottom:0}.btc-book-preview-author{margin:3px 0 0;font-size:.9em;color:#444}.btc-modal-progress-bar{margin-top:0}.btc-modal-text{float:left;max-width:60%}.btc-modal-img-wrapper{float:left;margin-right:20px}.btc-modal-chip{display:block;margin-top:10px;background-color:#26a69a;text-align:center;color:#fff}.btc-modal-footer{clear:both}.btc-modal-title{font-weight:700}.btc-modal-subtitle{font-weight:700;font-size:1.2em}.btc-modal-author{font-size:1.1em}.btc-modal-pageCount{font-style:italic;font-size:.9em;color:#444}.modal-link:hover{cursor:pointer}",""]),e.exports=e.exports.toString()},HSnN:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-instruction-panel{background-color:#26a69a;color:#fff;box-shadow:1px 1px 1px #777;padding:15px 40px;width:100%;margin:0 auto;margin-top:30px;margin-bottom:30px;border-radius:5px;line-height:1.8em;letter-spacing:1px}.btc-panel-link{color:#fff;font-weight:700;background-color:#ee6e73;padding:3px 5px}.btc-get-all-btn{float:right}.btc-book-preview{height:360px}.btc-book-preview-image-container{background:#555;height:240px;overflow:hidden;position:relative}.btc-book-preview-image-container:hover{cursor:pointer}.btc-book-preview-image{min-width:100%;min-height:100%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.btc-book-preview-image:hover{opacity:.4}.btc-book-preview-title{font-weight:700;margin-bottom:0}.btc-book-preview-author{margin:3px 0 0;font-size:.9em;color:#444}.btc-modal-progress-bar{margin-top:0}.btc-modal-text{float:left;max-width:60%}.btc-modal-img-wrapper{float:left;margin-right:20px}.btc-modal-chip{display:block;margin-top:10px;background-color:#26a69a;text-align:center;color:#fff}.btc-modal-footer{clear:both}.btc-modal-title{font-weight:700}.btc-modal-subtitle{font-weight:700;font-size:1.2em}.btc-modal-author{font-size:1.1em}.btc-modal-pageCount{font-style:italic;font-size:.9em;color:#444}.modal-link:hover{cursor:pointer}.btc-profile-username{font-weight:700;margin-top:40px;margin-bottom:0}.btc-profile-icon{font-size:40px;margin-right:10px!important}.btc-page-navbar{margin:30px 0 20px}.btc-table-image{height:50px}.btc-title-column{max-width:20%;font-weight:700;font-size:1.1em}.btc-centered{text-align:center}.btc-icon:hover{cursor:pointer}.btc-message-icon{cursor:no-drop}.btc-profile-instruction-panel{padding-top:3px;padding-bottom:3px}",""]),e.exports=e.exports.toString()},Iksp:function(e,t,o){"use strict";var r=o("Qbdm"),n=o("3j3K"),i=o("NVOs"),a=o("Fzro"),s=o("5oXY"),c=o("KN8t"),l=o("gwU6"),u=o("3MNG"),d=(o.n(u),o("YWx4")),p=o("TEel"),f=o("7fwu"),h=o("Dyxn"),b=o("Kx1j"),m=o("6UyD"),g=o("s29R"),v=o("Djnj"),k=o("US63"),y=o("8InQ"),w=o("kqTc"),x=o("SsaV"),B=o("0+Tb");o.d(t,"a",function(){return j});var R=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},j=function(){function e(){}return e}();j=R([o.i(n.NgModule)({declarations:[d.a,p.a,m.a,g.a,v.a,k.a],imports:[r.BrowserModule,c.a,u.SimpleNotificationsModule.forRoot(),l.a,i.a,a.a,s.a.forRoot([{path:"browse",component:v.a},{path:"add",component:p.a},{path:"profile",component:k.a},{path:"register",component:m.a},{path:"login",component:g.a},{path:"",redirectTo:"browse",pathMatch:"full"},{path:"**",redirectTo:"browse",pathMatch:"full"}])],providers:[f.a,y.a,w.a,x.a,B.a,h.a,b.a],bootstrap:[d.a]})],j)},Kx1j:function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu");o.d(t,"a",function(){return s});var i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this._auth=e}return e.prototype.canActivate=function(){return!!this._auth.isValidated()},e}();s=i([o.i(r.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==n.a&&n.a)&&c||Object])],s);var c},MOVZ:function(e,t){function o(e){throw new Error("Cannot find module '"+e+"'.")}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="MOVZ"},QGcQ:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-instruction-panel{background-color:#26a69a;color:#fff;box-shadow:1px 1px 1px #777;padding:15px 40px;width:100%;margin:0 auto;margin-top:30px;margin-bottom:30px;border-radius:5px;line-height:1.8em;letter-spacing:1px}.btc-panel-link{color:#fff;font-weight:700;background-color:#ee6e73;padding:3px 5px}.btc-get-all-btn{float:right}.btc-book-preview{height:360px}.btc-book-preview-image-container{background:#555;height:240px;overflow:hidden;position:relative}.btc-book-preview-image-container:hover{cursor:pointer}.btc-book-preview-image{min-width:100%;min-height:100%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.btc-book-preview-image:hover{opacity:.4}.btc-book-preview-title{font-weight:700;margin-bottom:0}.btc-book-preview-author{margin:3px 0 0;font-size:.9em;color:#444}.btc-modal-progress-bar{margin-top:0}.btc-modal-text{float:left;max-width:60%}.btc-modal-img-wrapper{float:left;margin-right:20px}.btc-modal-chip{display:block;margin-top:10px;background-color:#26a69a;text-align:center;color:#fff}.btc-modal-footer{clear:both}.btc-modal-title{font-weight:700}.btc-modal-subtitle{font-weight:700;font-size:1.2em}.btc-modal-author{font-size:1.1em}.btc-modal-pageCount{font-style:italic;font-size:.9em;color:#444}.modal-link:hover{cursor:pointer}",""]),e.exports=e.exports.toString()},SsaV:function(e,t,o){"use strict";var r=o("3j3K"),n=o("Fzro"),i=o("eErF");o.n(i);o.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e}return e.prototype.searchBooks=function(e,t){var o="https://www.googleapis.com/books/v1/volumes?q=",r=encodeURI(e),n=""+o+r;if(t){var i=encodeURI(t);n=n.concat("+inauthor:"+i)}return console.log("search books service",n),this.http.get(n).map(function(e){return e.json()}).map(function(e){if(e.totalItems){var t=[];if(e.items.forEach(function(e){if("en"===e.volumeInfo.language&&e.volumeInfo.title&&e.volumeInfo.authors&&e.volumeInfo.imageLinks.smallThumbnail){var o=e.volumeInfo,r=o.title,n=o.subtitle,i=o.authors,a=o.publisher,s=o.publishedDate,c=o.pageCount,l=o.imageLinks,u=o.description;t.push({title:r,subtitle:n,authors:i,publisher:a,publishedDate:s,pageCount:c,imageLinks:l,description:u})}}),0!==t.length)return t}}).toPromise()},e}();c=a([o.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(l=void 0!==n.d&&n.d)&&l||Object])],c);var l},TEel:function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu"),i=o("8InQ"),a=o("SsaV"),s=o("5oXY"),c=o("3MNG"),l=(o.n(c),o("0+Tb"));o.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,o,n,i,a){this.authService=e,this.bookService=t,this.gBooksApiService=o,this.router=n,this.notify=i,this.pBarService=a,this.modalActions=new r.EventEmitter,this.modalProgressBar=!1}return e.prototype.ngOnInit=function(){this.username=this.authService.isValidated()},e.prototype.searchBooksAPI=function(){var e=this;if(this.error="",!this.titleQuery)return this.error="enter a title or keyword";this.nullResultError="",this.bookData=[],this.pBarService.showProgressBar();this.titleQuery,this.authorQuery;console.log({titleQuery:this.titleQuery,authorQuery:this.authorQuery}),this.gBooksApiService.searchBooks(this.titleQuery,this.authorQuery).then(function(t){t?(e.bookData=t,console.log(e.bookData),e.pBarService.hideProgressBar()):(e.nullResultError="The search returned no results",e.pBarService.hideProgressBar())})},e.prototype.openModal=function(e){this.selectedBook=e,this.modalActions.emit({action:"modal",params:["open"]})},e.prototype.closeModal=function(){this.modalActions.emit({action:"modal",params:["close"]})},e.prototype.linkToAuthPage=function(e){if(this.closeModal(),"register"===e.target.firstChild.data)return this.router.navigate(["/register"]);this.router.navigate(["/login"])},e.prototype.addBook=function(){var e=this;this.modalProgressBar=!0;var t=this.selectedBook;this.bookService.addBookToCollection(t).subscribe(function(t){console.log(t),e.closeModal(),e.notify.success(e.selectedBook.title,"This book was added to your collection"),e.modalProgressBar=!1},function(t){console.log(t),e.modalProgressBar=!1})},e}();p=u([o.i(r.Component)({selector:"btc-add-books",template:o("aWZA"),styles:[o("FbhP")]}),d("design:paramtypes",["function"==typeof(f=void 0!==n.a&&n.a)&&f||Object,"function"==typeof(h=void 0!==i.a&&i.a)&&h||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(m=void 0!==s.b&&s.b)&&m||Object,"function"==typeof(g=void 0!==c.NotificationsService&&c.NotificationsService)&&g||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object])],p);var f,h,b,m,g,v},US63:function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu"),i=o("3MNG"),a=(o.n(i),o("8InQ")),s=o("kqTc"),c=o("0+Tb");o.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,o,n,i){this.auth=e,this.pBarService=t,this.bookService=o,this.requestService=n,this.notify=i,this.modalActions=new r.EventEmitter,this.activeTab="Collection",this.linkClassCollection="active"}return e.prototype.ngOnInit=function(){var e=this;this.currentUser=this.auth.getCurrentUser(),this.bookService.getMyBooks(this.currentUser._id).subscribe(function(t){e.myBooks=t,console.log(t)}),this.requestService.getMyRequests(this.currentUser._id).subscribe(function(t){e.myRequests=t})},e.prototype.showContent=function(e){"Collection"===e.target.innerHTML?(this.activeTab="Collection",this.linkClassCollection="active",this.linkClassRequests=""):"Requests"===e.target.innerHTML&&(this.activeTab="Requests",this.linkClassCollection="",this.linkClassRequests="active")},e.prototype.deleteBook=function(e){var t=this;this.pBarService.showProgressBar(),this.bookService.deleteBookById(e._id).subscribe(function(o){console.log(o),200===o.status&&(t.pBarService.hideProgressBar(),t.ngOnInit(),t.notify.success(e.title,"This book was removed from your collection"))})},e.prototype.cancelRequest=function(e){var t=this;this.pBarService.showProgressBar(),console.log(e),this.requestService.deleteRequestById(e._id).subscribe(function(o){console.log(o),200===o.status&&(t.pBarService.hideProgressBar(),t.ngOnInit(),t.notify.success(e.ownerName,"Your request to "+e.ownerName+" was cancelled"))})},e.prototype.openModal=function(){this.modalActions.emit({action:"modal",params:["open"]})},e.prototype.closeModal=function(){this.modalActions.emit({action:"modal",params:["close"]})},e}();d=l([o.i(r.Component)({selector:"btc-profile",template:o("EXx9"),styles:[o("HSnN")]}),u("design:paramtypes",["function"==typeof(p=void 0!==n.a&&n.a)&&p||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(h=void 0!==a.a&&a.a)&&h||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(m=void 0!==i.NotificationsService&&i.NotificationsService)&&m||Object])],d);var p,f,h,b,m},"VQ+3":function(e,t){e.exports='<div class>\r\n  <div class=" btc-form-wrapper">\r\n    <div class="btc-form-header">\r\n      <h2 class="btc-form-heading">Register</h2>\r\n    </div>\r\n  <form materialize #form="ngForm" (submit)="submitForm()" novalidate>\r\n\r\n    <div class="btc-input-wrapper">\r\n\r\n        <div class="input-field btc-input-field">\r\n            <i *ngIf="usernameValid" class="material-icons prefix btc-check-icon">check_circle</i>\r\n            <i *ngIf="!usernameValid" class="material-icons prefix btc-person-icon">person</i>\r\n          <input\r\n            [(ngModel)]="username"\r\n            (blur)="checkUsername()"\r\n            (focus)="clearUsernameCheck()"\r\n            name="username"\r\n            id="username"\r\n            type="text"\r\n            required\r\n            minlength="3"\r\n            maxlength="8">\r\n          <label for="username">Username</label>\r\n        </div>\r\n\r\n        <div class="input-field">\r\n          <i *ngIf="!passwordMatch" class="material-icons prefix btc-lock-icon">lock_outline</i>\r\n          <i *ngIf="passwordMatch" class="material-icons prefix btc-check-icon">check_circle</i>\r\n          <input\r\n            [(ngModel)]="password"\r\n            (keyup)="checkMatch()"\r\n            name="password"\r\n            id="password"\r\n            type="password"\r\n            required\r\n            minlength="3"\r\n            maxlength="12">\r\n          <label  for="password">Password</label>\r\n        </div>\r\n\r\n        <div class="input-field">\r\n          <i *ngIf="!passwordMatch" class="material-icons prefix btc-lock-icon">lock_outline</i>\r\n          <i *ngIf="passwordMatch" class="material-icons prefix btc-check-icon">check_circle</i>\r\n          <input\r\n            [(ngModel)]="confirmation"\r\n            (keyup)="checkMatch()"\r\n            name="confirmation"\r\n            id="password"\r\n            type="password"\r\n            required\r\n            minlength="3"\r\n            maxlength="12">\r\n          <label  for="password">Confirm Password</label>\r\n        </div>\r\n\r\n    </div>\r\n    <div *ngIf="error" class="btc-error">\r\n      {{error}}\r\n    </div>\r\n\r\n    <div class="btc-form-button-wrapper">\r\n      <button class="btn waves-effect waves-light btc-form-button" type="submit" [disabled]="form.invalid || !usernameValid">Register\r\n          <i class="material-icons right">check</i>\r\n      </button>\r\n    </div>\r\n\r\n  </form>\r\n  </div>\r\n</div>\r\n\r\n<br>\r\n\r\n'},Y0uS:function(e,t){e.exports='<div class>\r\n    <div class="btc-form-wrapper">\r\n      <div class="btc-form-header">\r\n        <h2 class="btc-form-heading">Login</h2>\r\n      </div>\r\n    <form materialize #form="ngForm" (submit)="submitForm()" novalidate>\r\n\r\n      <div class="btc-input-wrapper">\r\n\r\n          <div class="input-field">\r\n            <input\r\n              [(ngModel)]="username"\r\n              #inp1="ngModel"\r\n              name="username"\r\n              id="username"\r\n              type="text"\r\n              required\r\n              minlength="3">\r\n            <label for="username">Username</label>\r\n          </div>\r\n\r\n          <div class="input-field">\r\n            <input\r\n              [(ngModel)]="password"\r\n              #inp2="ngModel"\r\n              name="password"\r\n              id="password"\r\n              type="text"\r\n              required\r\n              minlength="3">\r\n            <label  for="password">Password</label>\r\n          </div>\r\n\r\n      </div>\r\n      <div *ngIf="this.error" class="btc-error">\r\n        {{error}}\r\n      </div>\r\n\r\n      <div class="btc-form-button-wrapper">\r\n        <button class="btn waves-effect waves-light btc-form-button" type="submit" [disabled]="form.invalid">Login\r\n            <i class="material-icons right">check</i>\r\n        </button>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  </div>\r\n  <br>\r\n\r\n\r\n'},YWx4:function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu"),i=o("5oXY"),a=o("3MNG"),s=(o.n(a),o("0+Tb"));o.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,o,r){this.auth=e,this.progressBarService=t,this.router=o,this.notify=r,this.dropdownVisible=!1,this.progressBar=!0,this.options={timeOut:3e3,lastOnBottom:!0,showProgressBar:!1,pauseOnHover:!0}}return e.prototype.ngOnInit=function(){this.username=this.auth.isValidated()},e.prototype.ngDoCheck=function(){this.username=this.auth.isValidated(),this.progressBar=this.progressBarService.status,this.linkClassBrowse="/browse"===this.router.url?"active":"",this.linkClassAdd="/add"===this.router.url?"active":"",this.linkClassLogin="/login"===this.router.url?"active":"",this.linkClassRegister="/register"===this.router.url?"active":""},e.prototype.toggleDropdown=function(){console.log("show DD"),this.dropdownVisible=!1===this.dropdownVisible,console.log(this.dropdownVisible)},e.prototype.removeDropdown=function(e){"dropdownIcon"!==e.target.id&&(this.dropdownVisible=!1)},e.prototype.signOut=function(){console.log("Signing out ",this.username),this.auth.logout(),this.router.navigate(["/login"]),this.notify.info(this.username,"You have been logged out"),this.username=null},e}();u=c([o.i(r.Component)({selector:"app-root",template:o("5xMp"),styles:[o("sQHO")],host:{"(click)":"removeDropdown($event)"}}),l("design:paramtypes",["function"==typeof(d=void 0!==n.a&&n.a)&&d||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(h=void 0!==a.NotificationsService&&a.NotificationsService)&&h||Object])],u);var d,p,f,h},aWZA:function(e,t){e.exports='<div class="btc-instruction-panel">\r\n  <h5>Search Google Books</h5>\r\n  <p>On this page, you can search Google Books for titles to add to your collection. Other users\r\n  will be able to see the books you add and send you borrow requests.</p>\r\n</div>\r\n\r\n\x3c!-- Search Form --\x3e\r\n\r\n<div class="row">\r\n  <form materialize class="col s12" #form="ngForm" (submit)="searchBooksAPI()">\r\n    <div class="row">\r\n      <div class="input-field col s6">\r\n        \x3c!-- <i class="material-icons prefix">search</i> --\x3e\r\n        <input\r\n          [(ngModel)]="titleQuery"\r\n          type="text"\r\n          name="titleQuery"\r\n          id="titleQuery">\r\n          <label for="titleQuery">Title</label>\r\n      </div>\r\n      <div class="input-field col s6">\r\n        \x3c!-- <i class="material-icons prefix">search</i> --\x3e\r\n        <input\r\n          [(ngModel)]="authorQuery"\r\n          type="text"\r\n          name="authorQuery"\r\n          id="authorQuery">\r\n        <label for="authorQuery">Author (optional)</label>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <button class="btn waves-effect waves-light" type="submit" [disabled]="!titleQuery">Search\r\n          <i class="material-icons right">search</i>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n\x3c!-- Results --\x3e\r\n<p *ngIf="nullResultError" class="btc-search-error">{{nullResultError}}</p>\r\n<p *ngIf="error" class="btc-search-error">{{error}}</p>\r\n\r\n<div class="row">\r\n  <div class="col s6 m4 l3 btc-book-preview" *ngFor="let book of bookData" (click)="openModal(book)">\r\n    <div class="btc-book-preview-image-container">\r\n      <img class="btc-book-preview-image" src="{{book.imageLinks.thumbnail}}" >\r\n    </div>\r\n\r\n    <p class="btc-book-preview-title">{{book.title}}</p>\r\n    <p class="btc-book-preview-author">{{book.authors[0]}}</p>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n\x3c!-- Modal Structure --\x3e\r\n<div id="modal1" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions">\r\n  <div *ngIf="modalProgressBar" class="progress btc-modal-progress-bar">\r\n    <div class="indeterminate"></div>\r\n  </div>\r\n  <div *ngIf="selectedBook" class="modal-content">\r\n\r\n      <div class="btc-modal-img-wrapper">\r\n        <img src="{{selectedBook.imageLinks.thumbnail}}" />\r\n      </div>\r\n\r\n      <div class="btc-modal-text">\r\n        <h4 class="btc-modal-title">{{selectedBook.title}}</h4>\r\n        <p *ngIf="selectedBook.subtitle" class="btc-modal-subtitle">{{selectedBook.subtitle}}</p>\r\n        <div>By&nbsp;\r\n          <span *ngFor="let author of selectedBook.authors" class="btc-modal-author">{{author}}&nbsp;&nbsp;</span>\r\n        </div>\r\n        <span *ngIf="selectedBook.publisher">Published by {{selectedBook.publisher}} </span>\r\n        <span *ngIf="selectedBook.publishedDate">({{selectedBook.publishedDate}})</span>\r\n\r\n        <p *ngIf="selectedBook.pageCount" class="btc-modal-pageCount">{{selectedBook.pageCount}} pages</p>\r\n        <p *ngIf="!username" class="anon-user-message">To add books to your collection, please\r\n          <a class="modal-link" (click)="linkToAuthPage($event)">register</a> or <a class="modal-link" (click)="linkToAuthPage($event)">log in</a>.</p>\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n    <div class="modal-footer btc-modal-footer">\r\n      <a *ngIf="username" class="modal-action modal-close waves-effect waves-green btn-flat" (click)="addBook()">Add to Collection<i class="material-icons right">add_circle</i></a>\r\n      <a class="waves-effect waves-green btn-flat" (click)="closeModal()">Close<i class="material-icons right">cancel</i></a>\r\n    </div>\r\n   </div>\r\n\r\n\r\n\r\n\r\n\r\n'},hC07:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-form-wrapper{border:2px solid #f08080;padding:0;margin:0 auto;margin-top:50px;width:320px}.btc-form-header{height:92px;background-color:#f08080}.btc-form-heading{color:#fff;text-align:center;padding:30px 0;margin:0;font-size:2em}.btc-input-wrapper{padding-top:20px;width:80%;margin:0 auto}.btc-check-icon{color:green;font-size:30px}.btc-form-button-wrapper{width:80%;margin:0 auto;margin-top:20px;margin-bottom:30px}.btc-form-button{width:100%}.btc-error{width:80%;color:#fff;background-color:#f08080;padding:5px;margin:0 auto;text-align:center}",""]),e.exports=e.exports.toString()},kZql:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r={production:!0}},kqTc:function(e,t,o){"use strict";var r=o("3j3K"),n=o("Fzro"),i=o("Dyxn"),a=o("7fwu");o.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,o){this.helper=e,this.auth=t,this.http=o}return e.prototype.requestBook=function(e,t){var o=this.auth.getCurrentUserId();console.log(t);var r=(new Date).toString(),n={requesterId:o,requesterName:e.username,ownerId:t.userId,ownerName:t.username,bookId:t._id,dateRequested:r,status:"new"};console.log(n);var i={request:n},a=this.helper.addAuthTokenToHeader();return this.http.post("/api/request/createRequest",i,a)},e.prototype.getMyRequests=function(e){var t="/api/request/getCurrentUsersRequests?id="+e;return this.http.get(t).map(function(e){return e.json()})},e.prototype.deleteRequestById=function(e){var t="api/request/delete/"+e;return this.http.delete(t)},e}();l=s([o.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(d=void 0!==a.a&&a.a)&&d||Object,"function"==typeof(p=void 0!==n.d&&n.d)&&p||Object])],l);var u,d,p},s29R:function(e,t,o){"use strict";var r=o("3j3K"),n=o("7fwu"),i=o("5oXY"),a=o("3MNG"),s=(o.n(a),o("0+Tb"));o.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,o,r){this.auth=e,this.progressBarService=t,this.router=o,this.notify=r}return e.prototype.ngOnInit=function(){},e.prototype.submitForm=function(){var e=this;this.username&&this.password&&(this.error="",this.progressBarService.showProgressBar(),this.user={username:this.username,password:this.password},this.auth.login(this.user).then(function(t){console.log(t),e.router.navigate(["/browse"]),e.notify.success(e.user.username,"You have been logged in"),e.progressBarService.hideProgressBar()}).catch(function(t){console.log(t),e.error="Your login details were incorrect.",e.progressBarService.hideProgressBar()}))},e}();u=c([o.i(r.Component)({selector:"btc-login",template:o("Y0uS"),styles:[o("hC07")]}),l("design:paramtypes",["function"==typeof(d=void 0!==n.a&&n.a)&&d||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(h=void 0!==a.NotificationsService&&a.NotificationsService)&&h||Object])],u);var d,p,f,h},sQHO:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".btc-logo{font-weight:700}.btc-logo-icon{font-size:35px;margin-right:10px!important}.btc-progress-bar{margin-top:0}.btc-account-icon{font-size:30px}.btc-dropdown-content{display:block;opacity:1}",""]),e.exports=e.exports.toString()},x35b:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("3j3K"),n=o("O61y"),i=o("Iksp");o("kZql").a.production&&o.i(r.enableProdMode)(),o.i(n.a)().bootstrapModule(i.a)}},[0]);